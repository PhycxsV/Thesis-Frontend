{"version":3,"sources":["components/WelcomeScreen.js","components/MainInputPage.jsx","components/ResultsPage.jsx","App.js","index.js"],"names":["LandingPage","history","useHistory","React","createElement","className","Database","Network","TrendingUp","onClick","handleGetStarted","push","MainInputPage","numFarms","setNumFarms","useState","totalWaterSupply","setTotalWaterSupply","farms","setFarms","farm_size","crop_water_req","canal_capacity","loading","setLoading","error","setError","handleFarmChange","index","field","value","newFarms","onSubmit","async","e","preventDefault","validateForm","parseFloat","i","length","concat","payload","total_water_supply","num_farms","farm_sizes","map","f","crop_water_reqs","canal_capacities","results","axios","post","data","pathname","state","inputData","apiError","console","mockResults","allocations","farm","idx","farm_id","water_allocated","shortage","metrics","total_shortage","fairness_index","water_efficiency","err","htmlFor","type","id","onChange","target","required","min","step","newNumFarms","parseInt","slice","max","key","disabled","Send","ResultsPage","location","useLocation","ArrowLeft","chartData","allocation","name","toFixed","handleExport","dataStr","JSON","stringify","input","timestamp","Date","toISOString","dataBlob","Blob","url","URL","createObjectURL","link","document","href","download","split","click","revokeObjectURL","Download","toLocaleString","ResponsiveContainer","width","height","BarChart","CartesianGrid","strokeDasharray","XAxis","dataKey","YAxis","label","angle","position","Tooltip","Legend","Bar","fill","App","Switch","Route","exact","path","component","Redirect","to","ReactDOM","render","StrictMode","BrowserRouter","basename","getElementById"],"mappings":"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","file":"static/js/main.472a1553.chunk.js","sourcesContent":["import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Database, Network, TrendingUp } from 'lucide-react';\r\n\r\nconst LandingPage = () => {\r\n  const history = useHistory();\r\n\r\n  const handleGetStarted = () => {\r\n    history.push('/input');\r\n  };\r\n\r\n  return (\r\n    <div className=\"landing-container\">\r\n      <div className=\"landing-content\">\r\n        <div className=\"landing-header\">\r\n          <h1 className=\"landing-title\">\r\n            AgriRise\r\n          </h1>\r\n          <h2 className=\"landing-subtitle\">\r\n            Optimization of Irrigation Water Allocation in Cuyapo, Nueva Ecija Using NSGA-II Genetic Algorithm\r\n          </h2>\r\n        </div>\r\n\r\n        <div className=\"how-it-works\">\r\n          <h3 className=\"how-it-works-title\">How It Works</h3>\r\n          <div className=\"steps-grid\">\r\n            <div className=\"step-card\">\r\n              <Database className=\"step-icon\" />\r\n              <h4 className=\"step-number\">Step 1: Data Input & Forecasting</h4>\r\n              <p className=\"step-description\">\r\n                Input your farm parameters. The system integrates local data and uses ARIMA for weather forecasting.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"step-card\">\r\n              <Network className=\"step-icon\" />\r\n              <h4 className=\"step-number\">Step 2: Multi-Objective Optimization</h4>\r\n              <p className=\"step-description\">\r\n                Our NSGA-II algorithm generates schedules that balance efficiency, equity, and sustainability.\r\n              </p>\r\n            </div>\r\n\r\n            <div className=\"step-card\">\r\n              <TrendingUp className=\"step-icon\" />\r\n              <h4 className=\"step-number\">Step 3: Decision Support</h4>\r\n              <p className=\"step-description\">\r\n                Receive a clear, actionable water allocation plan to enhance productivity and reduce conflict.\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"landing-description\">\r\n            <p>\r\n              This system uses NSGA-II (Non-dominated Sorting Genetic Algorithm II) to optimize irrigation water allocation \r\n              efficiently across agricultural areas in Cuyapo, Nueva Ecija. It considers multiple factors including crop water \r\n              requirements, soil conditions, reservoir capacity, and environmental needs to provide optimal \r\n              water distribution recommendations while balancing equity, sustainability, and demand fulfillment.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <button className=\"btn btn-primary btn-get-started\" onClick={handleGetStarted}>\r\n          Get Started\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LandingPage;\r\n\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Send, Plus, Minus } from 'lucide-react';\r\n\r\nconst MainInputPage = () => {\r\n  const history = useHistory();\r\n  const [numFarms, setNumFarms] = useState(3);\r\n  const [totalWaterSupply, setTotalWaterSupply] = useState('');\r\n  const [farms, setFarms] = useState([\r\n    { farm_size: '', crop_water_req: '', canal_capacity: '' },\r\n    { farm_size: '', crop_water_req: '', canal_capacity: '' },\r\n    { farm_size: '', crop_water_req: '', canal_capacity: '' }\r\n  ]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const handleNumFarmsChange = (e) => {\r\n    const newNumFarms = parseInt(e.target.value) || 0;\r\n    setNumFarms(newNumFarms);\r\n    \r\n    if (newNumFarms > farms.length) {\r\n      // Add new farm slots\r\n      const newFarms = [...farms];\r\n      while (newFarms.length < newNumFarms) {\r\n        newFarms.push({ farm_size: '', crop_water_req: '', canal_capacity: '' });\r\n      }\r\n      setFarms(newFarms);\r\n    } else if (newNumFarms < farms.length) {\r\n      // Remove farm slots\r\n      setFarms(farms.slice(0, newNumFarms));\r\n    }\r\n  };\r\n\r\n  const handleFarmChange = (index, field, value) => {\r\n    const newFarms = [...farms];\r\n    newFarms[index][field] = value;\r\n    setFarms(newFarms);\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (!totalWaterSupply || parseFloat(totalWaterSupply) <= 0) {\r\n      setError('Please enter a valid total water supply');\r\n      return false;\r\n    }\r\n\r\n    for (let i = 0; i < farms.length; i++) {\r\n      if (!farms[i].farm_size || parseFloat(farms[i].farm_size) <= 0) {\r\n        setError(`Please enter a valid farm size for Farm ${i + 1}`);\r\n        return false;\r\n      }\r\n      if (!farms[i].crop_water_req || parseFloat(farms[i].crop_water_req) <= 0) {\r\n        setError(`Please enter a valid crop water requirement for Farm ${i + 1}`);\r\n        return false;\r\n      }\r\n      if (!farms[i].canal_capacity || parseFloat(farms[i].canal_capacity) <= 0) {\r\n        setError(`Please enter a valid canal capacity for Farm ${i + 1}`);\r\n        return false;\r\n      }\r\n    }\r\n\r\n    setError('');\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const payload = {\r\n        total_water_supply: parseFloat(totalWaterSupply),\r\n        num_farms: numFarms,\r\n        farm_sizes: farms.map(f => parseFloat(f.farm_size)),\r\n        crop_water_reqs: farms.map(f => parseFloat(f.crop_water_req)),\r\n        canal_capacities: farms.map(f => parseFloat(f.canal_capacity))\r\n      };\r\n\r\n      // Try to call the backend API\r\n      try {\r\n        const response = await axios.post('http://localhost:5000/api/optimize', payload);\r\n        const results = response.data;\r\n\r\n        history.push({\r\n          pathname: '/results',\r\n          state: { \r\n            results: results,\r\n            inputData: payload\r\n          }\r\n        });\r\n      } catch (apiError) {\r\n        console.error('API Error:', apiError);\r\n        setError('Backend not available. Using mock data for demonstration.');\r\n        \r\n        // Fallback to mock data if backend is not running\r\n        const mockResults = {\r\n          allocations: farms.map((farm, idx) => ({\r\n            farm_id: idx + 1,\r\n            farm_size: parseFloat(farm.farm_size),\r\n            water_allocated: parseFloat(totalWaterSupply) / numFarms,\r\n            shortage: parseFloat(farm.crop_water_req) * parseFloat(farm.farm_size) - (parseFloat(totalWaterSupply) / numFarms)\r\n          })),\r\n          metrics: {\r\n            total_shortage: 5000,\r\n            fairness_index: 0.85,\r\n            water_efficiency: 0.78\r\n          }\r\n        };\r\n\r\n        history.push({\r\n          pathname: '/results',\r\n          state: { \r\n            results: mockResults,\r\n            inputData: payload\r\n          }\r\n        });\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to optimize water allocation. Please try again.');\r\n      console.error('Error:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"main-container\">\r\n      <div className=\"main-content\">\r\n        <h1 className=\"main-title\">Optimize Water Allocation</h1>\r\n        <p className=\"main-subtitle\">Enter your irrigation parameters to generate optimal allocation</p>\r\n\r\n        <form onSubmit={handleSubmit} className=\"input-form\">\r\n          <div className=\"form-section\">\r\n            <h2 className=\"section-title\">System Parameters</h2>\r\n            \r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"total_water_supply\" className=\"form-label\">\r\n                Total Available Water Supply (m³)\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"total_water_supply\"\r\n                className=\"form-input\"\r\n                value={totalWaterSupply}\r\n                onChange={(e) => setTotalWaterSupply(e.target.value)}\r\n                required\r\n                min=\"0\"\r\n                step=\"0.1\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"num_farms\" className=\"form-label\">\r\n                Number of Farms\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"num_farms\"\r\n                className=\"form-input\"\r\n                value={numFarms}\r\n                onChange={handleNumFarmsChange}\r\n                required\r\n                min=\"1\"\r\n                max=\"20\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-section\">\r\n            <h2 className=\"section-title\">Farm Parameters</h2>\r\n            <div className=\"farms-container\">\r\n              {farms.map((farm, index) => (\r\n                <div key={index} className=\"farm-card\">\r\n                  <h3 className=\"farm-title\">Farm {index + 1}</h3>\r\n                  \r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">\r\n                      Farm Size (Hectares)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-input\"\r\n                      value={farm.farm_size}\r\n                      onChange={(e) => handleFarmChange(index, 'farm_size', e.target.value)}\r\n                      required\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">\r\n                      Crop Water Requirement (m³/Hectare)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-input\"\r\n                      value={farm.crop_water_req}\r\n                      onChange={(e) => handleFarmChange(index, 'crop_water_req', e.target.value)}\r\n                      required\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-group\">\r\n                    <label className=\"form-label\">\r\n                      Canal Capacity (m³)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      className=\"form-input\"\r\n                      value={farm.canal_capacity}\r\n                      onChange={(e) => handleFarmChange(index, 'canal_capacity', e.target.value)}\r\n                      required\r\n                      min=\"0\"\r\n                      step=\"0.1\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"alert alert-error\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <button \r\n            type=\"submit\" \r\n            className=\"btn btn-submit\"\r\n            disabled={loading}\r\n          >\r\n            <Send className=\"btn-icon\" />\r\n            {loading ? 'Optimizing...' : 'Generate Optimal Allocation'}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainInputPage;\r\n\r\n","import React from 'react';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\r\nimport { ArrowLeft, Download } from 'lucide-react';\r\n\r\nconst ResultsPage = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  \r\n  // Get data from navigation state\r\n  const { results, inputData } = location.state || {};\r\n\r\n  if (!results) {\r\n    return (\r\n      <div className=\"results-container\">\r\n        <div className=\"results-content\">\r\n          <div className=\"alert alert-error\">\r\n            No results data available. Please go back and generate optimization.\r\n          </div>\r\n          <button className=\"btn btn-secondary\" onClick={() => history.push('/input')}>\r\n            <ArrowLeft className=\"btn-icon\" />\r\n            Back to Input\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const chartData = results.allocations.map(allocation => ({\r\n    name: `Farm ${allocation.farm_id}`,\r\n    'Water Allocated': allocation.water_allocated.toFixed(2),\r\n    'Water Demand': allocation.farm_size * (inputData.crop_water_reqs[allocation.farm_id - 1] || 0)\r\n  }));\r\n\r\n  const handleExport = () => {\r\n    const dataStr = JSON.stringify({\r\n      input: inputData,\r\n      results: results,\r\n      timestamp: new Date().toISOString()\r\n    }, null, 2);\r\n    \r\n    const dataBlob = new Blob([dataStr], { type: 'application/json' });\r\n    const url = URL.createObjectURL(dataBlob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `water-allocation-results-${new Date().toISOString().split('T')[0]}.json`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"results-container\">\r\n      <div className=\"results-content\">\r\n        <div className=\"results-header\">\r\n          <h1 className=\"results-title\">Optimization Results</h1>\r\n          <button className=\"btn btn-secondary btn-export\" onClick={handleExport}>\r\n            <Download className=\"btn-icon\" />\r\n            Export Results\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"results-summary\">\r\n          <h2 className=\"summary-title\">Input Summary</h2>\r\n          <div className=\"summary-grid\">\r\n            <div className=\"summary-item\">\r\n              <span className=\"summary-label\">Total Water Supply:</span>\r\n              <span className=\"summary-value\">{inputData.total_water_supply.toLocaleString()} m³</span>\r\n            </div>\r\n            <div className=\"summary-item\">\r\n              <span className=\"summary-label\">Number of Farms:</span>\r\n              <span className=\"summary-value\">{inputData.num_farms}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"metrics-section\">\r\n          <h2 className=\"section-title\">Performance Metrics</h2>\r\n          <div className=\"metrics-grid\">\r\n            <div className=\"metric-card\">\r\n              <h3 className=\"metric-label\">Total Water Shortage</h3>\r\n              <p className=\"metric-value\">{results.metrics.total_shortage.toFixed(2)} m³</p>\r\n            </div>\r\n            <div className=\"metric-card\">\r\n              <h3 className=\"metric-label\">Jain's Fairness Index</h3>\r\n              <p className=\"metric-value\">{results.metrics.fairness_index.toFixed(2)}</p>\r\n            </div>\r\n            <div className=\"metric-card\">\r\n              <h3 className=\"metric-label\">Water Efficiency</h3>\r\n              <p className=\"metric-value\">{(results.metrics.water_efficiency * 100).toFixed(2)}%</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"allocation-section\">\r\n          <h2 className=\"section-title\">Optimized Water Allocation</h2>\r\n          <div className=\"table-container\">\r\n            <table className=\"results-table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Farm ID</th>\r\n                  <th>Farm Size (Ha)</th>\r\n                  <th>Water Allocated (m³)</th>\r\n                  <th>Water Shortage (m³)</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {results.allocations.map((allocation, idx) => (\r\n                  <tr key={idx}>\r\n                    <td>{allocation.farm_id}</td>\r\n                    <td>{allocation.farm_size.toFixed(2)}</td>\r\n                    <td>{allocation.water_allocated.toFixed(2)}</td>\r\n                    <td className={allocation.shortage > 0 ? 'negative' : 'positive'}>\r\n                      {allocation.shortage.toFixed(2)}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"chart-section\">\r\n          <h2 className=\"section-title\">Allocation Visualization</h2>\r\n          <div className=\"chart-container\">\r\n            <ResponsiveContainer width=\"100%\" height={400}>\r\n              <BarChart data={chartData}>\r\n                <CartesianGrid strokeDasharray=\"3 3\" />\r\n                <XAxis dataKey=\"name\" />\r\n                <YAxis label={{ value: 'Water (m³)', angle: -90, position: 'insideLeft' }} />\r\n                <Tooltip />\r\n                <Legend />\r\n                <Bar dataKey=\"Water Allocated\" fill=\"#3B82F6\" />\r\n                <Bar dataKey=\"Water Demand\" fill=\"#10B981\" />\r\n              </BarChart>\r\n            </ResponsiveContainer>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"action-buttons\">\r\n          <button className=\"btn btn-secondary\" onClick={() => history.push('/input')}>\r\n            <ArrowLeft className=\"btn-icon\" />\r\n            Back to Input\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResultsPage;\r\n\r\n","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport LandingPage from './components/WelcomeScreen';\r\nimport MainInputPage from './components/MainInputPage';\r\nimport ResultsPage from './components/ResultsPage';\r\nimport './index.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app-container\">\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LandingPage} />\r\n        <Route path=\"/input\" component={MainInputPage} />\r\n        <Route path=\"/results\" component={ResultsPage} />\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename=\"/Thesis-Frontend\">\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}