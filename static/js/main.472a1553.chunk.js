(this["webpackJsonpwater-allocation-monitoring"]=this["webpackJsonpwater-allocation-monitoring"]||[]).push([[0],{156:function(e,a,t){e.exports=t(315)},315:function(e,a,t){"use strict";t.r(a);var r=t(1),l=t.n(r),n=t(49),c=t.n(n),s=t(28),m=(t(77),t(7)),i=t(317),o=t(318),p=t(319);var u=()=>{const e=Object(m.g)();return l.a.createElement("div",{className:"landing-container"},l.a.createElement("div",{className:"landing-content"},l.a.createElement("div",{className:"landing-header"},l.a.createElement("h1",{className:"landing-title"},"AgriRise"),l.a.createElement("h2",{className:"landing-subtitle"},"Optimization of Irrigation Water Allocation in Cuyapo, Nueva Ecija Using NSGA-II Genetic Algorithm")),l.a.createElement("div",{className:"how-it-works"},l.a.createElement("h3",{className:"how-it-works-title"},"How It Works"),l.a.createElement("div",{className:"steps-grid"},l.a.createElement("div",{className:"step-card"},l.a.createElement(i.a,{className:"step-icon"}),l.a.createElement("h4",{className:"step-number"},"Step 1: Data Input & Forecasting"),l.a.createElement("p",{className:"step-description"},"Input your farm parameters. The system integrates local data and uses ARIMA for weather forecasting.")),l.a.createElement("div",{className:"step-card"},l.a.createElement(o.a,{className:"step-icon"}),l.a.createElement("h4",{className:"step-number"},"Step 2: Multi-Objective Optimization"),l.a.createElement("p",{className:"step-description"},"Our NSGA-II algorithm generates schedules that balance efficiency, equity, and sustainability.")),l.a.createElement("div",{className:"step-card"},l.a.createElement(p.a,{className:"step-icon"}),l.a.createElement("h4",{className:"step-number"},"Step 3: Decision Support"),l.a.createElement("p",{className:"step-description"},"Receive a clear, actionable water allocation plan to enhance productivity and reduce conflict."))),l.a.createElement("div",{className:"landing-description"},l.a.createElement("p",null,"This system uses NSGA-II (Non-dominated Sorting Genetic Algorithm II) to optimize irrigation water allocation efficiently across agricultural areas in Cuyapo, Nueva Ecija. It considers multiple factors including crop water requirements, soil conditions, reservoir capacity, and environmental needs to provide optimal water distribution recommendations while balancing equity, sustainability, and demand fulfillment."))),l.a.createElement("button",{className:"btn btn-primary btn-get-started",onClick:()=>{e.push("/input")}},"Get Started")))},d=t(119),E=t.n(d),N=t(320);var f=()=>{const e=Object(m.g)(),[a,t]=Object(r.useState)(3),[n,c]=Object(r.useState)(""),[s,i]=Object(r.useState)([{farm_size:"",crop_water_req:"",canal_capacity:""},{farm_size:"",crop_water_req:"",canal_capacity:""},{farm_size:"",crop_water_req:"",canal_capacity:""}]),[o,p]=Object(r.useState)(!1),[u,d]=Object(r.useState)(""),f=(e,a,t)=>{const r=[...s];r[e][a]=t,i(r)};return l.a.createElement("div",{className:"main-container"},l.a.createElement("div",{className:"main-content"},l.a.createElement("h1",{className:"main-title"},"Optimize Water Allocation"),l.a.createElement("p",{className:"main-subtitle"},"Enter your irrigation parameters to generate optimal allocation"),l.a.createElement("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{if(!n||parseFloat(n)<=0)return d("Please enter a valid total water supply"),!1;for(let e=0;e<s.length;e++){if(!s[e].farm_size||parseFloat(s[e].farm_size)<=0)return d("Please enter a valid farm size for Farm ".concat(e+1)),!1;if(!s[e].crop_water_req||parseFloat(s[e].crop_water_req)<=0)return d("Please enter a valid crop water requirement for Farm ".concat(e+1)),!1;if(!s[e].canal_capacity||parseFloat(s[e].canal_capacity)<=0)return d("Please enter a valid canal capacity for Farm ".concat(e+1)),!1}return d(""),!0})()){p(!0),d("");try{const t={total_water_supply:parseFloat(n),num_farms:a,farm_sizes:s.map(e=>parseFloat(e.farm_size)),crop_water_reqs:s.map(e=>parseFloat(e.crop_water_req)),canal_capacities:s.map(e=>parseFloat(e.canal_capacity))};try{const a=(await E.a.post("http://localhost:5000/api/optimize",t)).data;e.push({pathname:"/results",state:{results:a,inputData:t}})}catch(r){console.error("API Error:",r),d("Backend not available. Using mock data for demonstration.");const l={allocations:s.map((e,t)=>({farm_id:t+1,farm_size:parseFloat(e.farm_size),water_allocated:parseFloat(n)/a,shortage:parseFloat(e.crop_water_req)*parseFloat(e.farm_size)-parseFloat(n)/a})),metrics:{total_shortage:5e3,fairness_index:.85,water_efficiency:.78}};e.push({pathname:"/results",state:{results:l,inputData:t}})}}catch(l){d("Failed to optimize water allocation. Please try again."),console.error("Error:",l)}finally{p(!1)}}},className:"input-form"},l.a.createElement("div",{className:"form-section"},l.a.createElement("h2",{className:"section-title"},"System Parameters"),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"total_water_supply",className:"form-label"},"Total Available Water Supply (m\xb3)"),l.a.createElement("input",{type:"number",id:"total_water_supply",className:"form-input",value:n,onChange:e=>c(e.target.value),required:!0,min:"0",step:"0.1"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"num_farms",className:"form-label"},"Number of Farms"),l.a.createElement("input",{type:"number",id:"num_farms",className:"form-input",value:a,onChange:e=>{const a=parseInt(e.target.value)||0;if(t(a),a>s.length){const e=[...s];for(;e.length<a;)e.push({farm_size:"",crop_water_req:"",canal_capacity:""});i(e)}else a<s.length&&i(s.slice(0,a))},required:!0,min:"1",max:"20"}))),l.a.createElement("div",{className:"form-section"},l.a.createElement("h2",{className:"section-title"},"Farm Parameters"),l.a.createElement("div",{className:"farms-container"},s.map((e,a)=>l.a.createElement("div",{key:a,className:"farm-card"},l.a.createElement("h3",{className:"farm-title"},"Farm ",a+1),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Farm Size (Hectares)"),l.a.createElement("input",{type:"number",className:"form-input",value:e.farm_size,onChange:e=>f(a,"farm_size",e.target.value),required:!0,min:"0",step:"0.1"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Crop Water Requirement (m\xb3/Hectare)"),l.a.createElement("input",{type:"number",className:"form-input",value:e.crop_water_req,onChange:e=>f(a,"crop_water_req",e.target.value),required:!0,min:"0",step:"0.1"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{className:"form-label"},"Canal Capacity (m\xb3)"),l.a.createElement("input",{type:"number",className:"form-input",value:e.canal_capacity,onChange:e=>f(a,"canal_capacity",e.target.value),required:!0,min:"0",step:"0.1"})))))),u&&l.a.createElement("div",{className:"alert alert-error"},u),l.a.createElement("button",{type:"submit",className:"btn btn-submit",disabled:o},l.a.createElement(N.a,{className:"btn-icon"}),o?"Optimizing...":"Generate Optimal Allocation"))))},b=t(14),h=t(321),v=t(322);var _=()=>{const e=Object(m.g)(),a=Object(m.h)(),{results:t,inputData:r}=a.state||{};if(!t)return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"results-content"},l.a.createElement("div",{className:"alert alert-error"},"No results data available. Please go back and generate optimization."),l.a.createElement("button",{className:"btn btn-secondary",onClick:()=>e.push("/input")},l.a.createElement(h.a,{className:"btn-icon"}),"Back to Input")));const n=t.allocations.map(e=>({name:"Farm ".concat(e.farm_id),"Water Allocated":e.water_allocated.toFixed(2),"Water Demand":e.farm_size*(r.crop_water_reqs[e.farm_id-1]||0)}));return l.a.createElement("div",{className:"results-container"},l.a.createElement("div",{className:"results-content"},l.a.createElement("div",{className:"results-header"},l.a.createElement("h1",{className:"results-title"},"Optimization Results"),l.a.createElement("button",{className:"btn btn-secondary btn-export",onClick:()=>{const e=JSON.stringify({input:r,results:t,timestamp:(new Date).toISOString()},null,2),a=new Blob([e],{type:"application/json"}),l=URL.createObjectURL(a),n=document.createElement("a");n.href=l,n.download="water-allocation-results-".concat((new Date).toISOString().split("T")[0],".json"),n.click(),URL.revokeObjectURL(l)}},l.a.createElement(v.a,{className:"btn-icon"}),"Export Results")),l.a.createElement("div",{className:"results-summary"},l.a.createElement("h2",{className:"summary-title"},"Input Summary"),l.a.createElement("div",{className:"summary-grid"},l.a.createElement("div",{className:"summary-item"},l.a.createElement("span",{className:"summary-label"},"Total Water Supply:"),l.a.createElement("span",{className:"summary-value"},r.total_water_supply.toLocaleString()," m\xb3")),l.a.createElement("div",{className:"summary-item"},l.a.createElement("span",{className:"summary-label"},"Number of Farms:"),l.a.createElement("span",{className:"summary-value"},r.num_farms)))),l.a.createElement("div",{className:"metrics-section"},l.a.createElement("h2",{className:"section-title"},"Performance Metrics"),l.a.createElement("div",{className:"metrics-grid"},l.a.createElement("div",{className:"metric-card"},l.a.createElement("h3",{className:"metric-label"},"Total Water Shortage"),l.a.createElement("p",{className:"metric-value"},t.metrics.total_shortage.toFixed(2)," m\xb3")),l.a.createElement("div",{className:"metric-card"},l.a.createElement("h3",{className:"metric-label"},"Jain's Fairness Index"),l.a.createElement("p",{className:"metric-value"},t.metrics.fairness_index.toFixed(2))),l.a.createElement("div",{className:"metric-card"},l.a.createElement("h3",{className:"metric-label"},"Water Efficiency"),l.a.createElement("p",{className:"metric-value"},(100*t.metrics.water_efficiency).toFixed(2),"%")))),l.a.createElement("div",{className:"allocation-section"},l.a.createElement("h2",{className:"section-title"},"Optimized Water Allocation"),l.a.createElement("div",{className:"table-container"},l.a.createElement("table",{className:"results-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Farm ID"),l.a.createElement("th",null,"Farm Size (Ha)"),l.a.createElement("th",null,"Water Allocated (m\xb3)"),l.a.createElement("th",null,"Water Shortage (m\xb3)"))),l.a.createElement("tbody",null,t.allocations.map((e,a)=>l.a.createElement("tr",{key:a},l.a.createElement("td",null,e.farm_id),l.a.createElement("td",null,e.farm_size.toFixed(2)),l.a.createElement("td",null,e.water_allocated.toFixed(2)),l.a.createElement("td",{className:e.shortage>0?"negative":"positive"},e.shortage.toFixed(2)))))))),l.a.createElement("div",{className:"chart-section"},l.a.createElement("h2",{className:"section-title"},"Allocation Visualization"),l.a.createElement("div",{className:"chart-container"},l.a.createElement(b.e,{width:"100%",height:400},l.a.createElement(b.b,{data:n},l.a.createElement(b.c,{strokeDasharray:"3 3"}),l.a.createElement(b.g,{dataKey:"name"}),l.a.createElement(b.h,{label:{value:"Water (m\xb3)",angle:-90,position:"insideLeft"}}),l.a.createElement(b.f,null),l.a.createElement(b.d,null),l.a.createElement(b.a,{dataKey:"Water Allocated",fill:"#3B82F6"}),l.a.createElement(b.a,{dataKey:"Water Demand",fill:"#10B981"}))))),l.a.createElement("div",{className:"action-buttons"},l.a.createElement("button",{className:"btn btn-secondary",onClick:()=>e.push("/input")},l.a.createElement(h.a,{className:"btn-icon"}),"Back to Input"))))};var g=function(){return l.a.createElement("div",{className:"app-container"},l.a.createElement(m.d,null,l.a.createElement(m.b,{exact:!0,path:"/",component:u}),l.a.createElement(m.b,{path:"/input",component:f}),l.a.createElement(m.b,{path:"/results",component:_}),l.a.createElement(m.a,{to:"/"})))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(s.a,{basename:"/Thesis-Frontend"},l.a.createElement(g,null))),document.getElementById("root"))},77:function(e,a,t){}},[[156,1,2]]]);
//# sourceMappingURL=main.472a1553.chunk.js.map